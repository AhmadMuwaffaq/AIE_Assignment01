<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Budget Tracker</title>
    <!-- Bootstrap -->
	<link href="css/bootstrap.css" rel="stylesheet">
	<link href="dist/chartist.min.css">
	
	<style>
	html {overflow-x: hidden;}
	</style>
	<link href="css/index.css" rel="stylesheet" type="text/css">

	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
		  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
		  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->
  </head>
  <body>
	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) --> 
	<script src="js/jquery-1.11.3.min.js"></script>

	<!-- Include all compiled plugins (below), or include individual files as needed --> 
	<script src="js/bootstrap.js"></script>
	
	<script type="text/javascript">
	$(document).ready(function() {

		var transactionHistory = JSON.parse(localStorage.getItem("transactionHistory"));	
				
		if (transactionHistory) {
			var totalIncome = 0;
			var totalExpense = 0;
			var left = 0;
			//load back into form
			for (var i =0; i<transactionHistory.length; i++) {
			
			var rand = i;
			var randomHistory = transactionHistory[rand];
				
				if (randomHistory['category']==="Income") {
				console.log("3")
				var income = parseInt(randomHistory["amount"]);
				
				
				totalIncome += income;
				console.log('totalincome' + totalIncome);
				
				$(".monthly-income").html('$ ' + totalIncome);
				$(".monthly-income").css('color', 'green');
					
				}
				
				else if(randomHistory['category']==="Expense") {
				console.log("4")
				var expense = parseInt(randomHistory["amount"]);
				
				
				totalExpense += expense;
				console.log('totalexpense' + totalExpense);
				
				$(".monthly-expense").html('$ ' + totalExpense);
				$(".monthly-expense").css('color', 'red');
					
				}
				
				left = totalIncome - totalExpense;

				if(left>0) {
					$(".net-worth").html('$ ' + left);
					$(".net-worth").css('color', 'green');
				}
				else if(left<0) {
					$(".net-worth").html('$ ' + left);
					$(".net-worth").css('color', 'red');
				}

				//store current index to the html
				$("#random-history").attr("data-current", rand);

				 }
			} 			
	});
		
  </script>
	
	<!-- Header -->
	
	<div class="header">
		<div class="nav-bar">
		  <div class="row">
			  <div class="col-lg-4" id="navone"><a href="index.html">Overview</a></div>
			  <div class="col-lg-4" id="navetwo"><a href="transaction.html">Transaction</a></div>
		  </div>
        </div>
  	</div>
  	
  	<!-- /end of header -->
  	
  	<!-- Content -->
  	
  	<div id="page-head">
		<h1>Overview</h1>
  	</div>
  	
  	<div class="main-body">
		<div class="holder">
			<table id="tableList">
			<tr>
				 <th id="net-worth">Net Worth</th>
				 <th id="monthly-income">Monthly Income</th> 
				 <th id="monthly-expense">Monthly Expense</th>
			</tr>
			<tr>
				<td class="net-worth">$ 0</td>
				<td class="monthly-income">$ 0</td>
				<td class="monthly-expense">$ 0</td>
			</tr>
			</table>
		</div>	
  	</div>
  	
  	<!-- /end of content -->
  	
  </body>
  
<!-- Start Footer -->  
  
  <footer>
   <div class="footer-content">
     <div class="content">
   	   	<ul>
			<li>All rights reserved Â© | Crafted by Ahmad Muwaffaq</li>
			<li id="sitemap"><a href="index.html">Home</a> | <a href="transaction.html">Transaction</a></li>
		 </ul>
     </div>
   </div>
 </footer>
 
 <!-- /end footer -->  
  
</html>